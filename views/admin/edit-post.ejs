<a href="/dashboard">&larr; Back</a>
<div class="admin-title">
  <h2>View / Edit Post</h2>

  <form action="/delete-post/<%= data._id %>?_method=DELETE" method="POST">
    <input type="submit" value="Delete" class="btn-delete btn">
  </form>

</div>

<!-- <form action="/edit-post/<%= data._id %>?_method=PUT" method="POST">

  <label for="title"><b>Title</b></label>
  <input type="text" placeholder="Post Title" name="title" value="<%= data.title %>">

  <label for="body"><b>Content</b></label>
  <textarea name="body" cols="50" rows="10"><%= data.body %></textarea>

  <input type="submit" value="Update" class="btn">

</form> -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Post</title>
    <script>
        function addPage() {
            const pagesContainer = document.getElementById('pages-container');
            const pageCount = pagesContainer.children.length;
            const newPage = document.createElement('div');
            newPage.innerHTML = `
                <label>Page ${pageCount + 1}:</label><br>
                <textarea name="pages"></textarea><br>
            `;
            pagesContainer.appendChild(newPage);
        }
    </script>
</head>
<body>
    <h1>Edit Post</h1>
    <form action="/edit-post/<%= data._id %>?_method=PUT" method="POST">
        <label>Title:</label><br>
        <input type="text" name="title" value="<%= data.title %>"><br>
        <div id="pages-container">
            <% data.pages.forEach((page, index) => { %>
                <label>Page <%= index + 1 %>:</label><br>
                <textarea name="pages"><%= page %></textarea><br>
            <% }); %>
        </div>
        <button type="button" onclick="addPage()">Add Page</button><br>
        <button type="submit">Update Post</button>
    </form>
</body>
</html>
